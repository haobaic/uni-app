(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-my-index"],{"24fe":function(e,t,n){"use strict";n.r(t);var r=n("728d"),i=n("689e");for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);var o=n("2877"),u=Object(o["a"])(i["default"],r["a"],r["b"],!1,null,"cb4aeb6a",null);t["default"]=u.exports},"689e":function(e,t,n){"use strict";n.r(t);var r=n("6a1e"),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);t["default"]=i.a},"6a1e":function(e,t,n){"use strict";(function(e){var r=n("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("96cf");var i=r(n("3b8d")),a={data:function(){return{devtools:""}},computed:{},onLoad:function(){var t=(0,i.default)(regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.devtools="devtools"==uni.getSystemInfoSync().platform,this.devtools&&this.checkLogin(function(t){e.log("is_login: ",t.is_login),t.is_login||n.fnLodin()});case 2:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}(),methods:{fnLodin:function(){var t=(0,i.default)(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=this,uni.login({provider:"weixin",success:function(t){n.ajax.post(n.apiUrl.login,{code:t.code}).then(function(t){e.log(t),wx.setStorage({key:"token",data:t.token})})}});case 2:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}(),checkLogin:function(e){var t=uni.getStorageSync("token");t?this.ajax.get(this.apiUrl.checklogin,{token:t}).then(function(t){e({is_login:t.is_login})}):e({is_login:!1})},credit:function(){var t=(0,i.default)(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.ajax.get(this.apiUrl.credit,{token:uni.getStorageSync("token")});case 2:n=t.sent,e.log(n);case 4:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}(),getUserInfo:function(){var t=(0,i.default)(regeneratorRuntime.mark(function t(n){var r,i,a,o,u,c,s,f;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(r=uni.getStorageSync("token"),i=n.detail,a=i.rawData,o=i.signature,u=i.encryptedData,c=i.iv,s=i.errMsg,"getUserInfo:ok"==s){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,this.ajax.post(this.apiUrl.userinfo+"?token="+r,{rawData:a,signature:o,encryptedData:u,iv:c});case 6:f=t.sent,e.log(f);case 8:case"end":return t.stop()}},t,this)}));function n(e){return t.apply(this,arguments)}return n}()}};t.default=a}).call(this,n("5a52")["default"])},"728d":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{},[e.devtools?[n("v-uni-button",{on:{click:function(t){t=e.$handleEvent(t),e.credit(t)}}},[e._v("获取用户的积分")]),n("v-uni-button",{attrs:{"open-type":"getUserInfo"},on:{getuserinfo:function(t){t=e.$handleEvent(t),e.getUserInfo(t)}}},[e._v("登录")])]:e._e()],2)},i=[];n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i})}}]);