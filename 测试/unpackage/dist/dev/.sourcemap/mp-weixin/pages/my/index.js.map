{"version":3,"sources":["webpack:///C:/Users/Administrator/Desktop/学习/测试/main.js","webpack:///C:/Users/Administrator/Desktop/学习/测试/pages/my/index.vue?6010","webpack:///C:/Users/Administrator/Desktop/学习/测试/pages/my/index.vue?92c9","webpack:///C:/Users/Administrator/Desktop/学习/测试/pages/my/index.vue?b974","webpack:///C:/Users/Administrator/Desktop/学习/测试/pages/my/index.vue?ddb3","webpack:///C:/Users/Administrator/Desktop/学习/测试/pages/my/index.vue"],"names":["createPage","Page","data","devtools","computed","onLoad","uni","getSystemInfoSync","platform","checkLogin","res","console","log","is_login","fnLodin","methods","self","login","provider","success","loginRes","ajax","post","apiUrl","code","then","wx","setStorage","key","token","callback","getStorageSync","get","checklogin","credit","getUserInfo","info","detail","rawData","signature","encryptedData","iv","errMsg","userinfo"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;;AAEnB;AACA,yF;AACAA,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAoF;AAC3B;AACL;;;AAGpD;AAC4H;AAC5H,gBAAgB,0IAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACtCf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAisB,CAAgB,ktBAAG,EAAC,C;;;;;;;;;;;;s8BCArtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe;AACdC,MADc,kBACP;AACN,WAAO;AACNC,cAAQ,EAAE,EADJ,EAAP;;AAGA,GALa;AAMdC,UAAQ,EAAE,EANI;;;AASRC,QATQ;AAUb,mBAAKF,QAAL,GAAgBG,GAAG,CAACC,iBAAJ,GAAwBC,QAAxB,IAAoC,UAApD;AACA,kBAAI,KAAKL,QAAT,EAAmB;AAClB;AACA,qBAAKM,UAAL,CAAgB,UAAAC,GAAG,EAAI;AACtBC,yBAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BF,GAAG,CAACG,QAA9B;AACA,sBAAI,CAACH,GAAG,CAACG,QAAT,EAAmB;AAClB,yBAAI,CAACC,OAAL;AACA;AACD,iBALD;AAMA,eAnBY;;AAqBdC,SAAO,EAAE;AACR;AACMD,WAFE;AAGHE,oBAHG,GAGI,IAHJ;AAIPV,mBAAG,CAACW,KAAJ,CAAU;AACTC,0BAAQ,EAAE,QADD;AAETC,yBAAO,EAAE,iBAASC,QAAT,EAAmB;AAC3BJ,wBAAI,CAACK,IAAL,CAAUC,IAAV,CAAeN,IAAI,CAACO,MAAL,CAAYN,KAA3B,EAAkC;AACjCO,0BAAI,EAAEJ,QAAQ,CAACI,IADkB,EAAlC;AAEGC,wBAFH,CAEQ,UAACf,GAAD,EAAS;AAChBC,6BAAO,CAACC,GAAR,CAAYF,GAAZ;AACAgB,wBAAE,CAACC,UAAH,CAAc;AACbC,2BAAG,EAAE,OADQ;AAEb1B,4BAAI,EAAEQ,GAAG,CAACmB,KAFG,EAAd;;AAIA,qBARD;AASA,mBAZQ,EAAV,EAJO;;;AAmBR;AACApB,cAAU,EAAE,oBAASqB,QAAT,EAAmB;AAC9B,UAAID,KAAK,GAAGvB,GAAG,CAACyB,cAAJ,CAAmB,OAAnB,CAAZ;AACA,UAAI,CAACF,KAAL,EAAY;AACX;AACAC,gBAAQ,CAAC;AACRjB,kBAAQ,EAAE,KADF,EAAD,CAAR;;AAGA;AACA;AACD,WAAKQ,IAAL,CAAUW,GAAV,CAAc,KAAKT,MAAL,CAAYU,UAA1B,EAAsC;AACrCJ,aAAK,EAAEA,KAD8B,EAAtC;AAEGJ,UAFH,CAEQ,UAACf,GAAD,EAAS;AAChBoB,gBAAQ,CAAC;AACRjB,kBAAQ,EAAEH,GAAG,CAACG,QADN,EAAD,CAAR;;AAGA,OAND;AAOA,KApCO;AAqCR;AACMqB,UAtCE;AAuCS,uBAAKb,IAAL,CAAUW,GAAV,CAAc,KAAKT,MAAL,CAAYW,MAA1B,EAAkC;AACjDL,yBAAK,EAAEvB,GAAG,CAACyB,cAAJ,CAAmB,OAAnB,CAD0C,EAAlC,CAvCT,SAuCHrB,GAvCG;;AA0CPC,uBAAO,CAACC,GAAR,CAAYF,GAAZ,EA1CO;;AA4CR;AACMyB,eA7CE,8GA6CUC,IA7CV;AA8CHP,qBA9CG,GA8CKvB,GAAG,CAACyB,cAAJ,CAAmB,OAAnB,CA9CL;;;;;;;AAqDHK,oBAAI,CAACC,MArDF,EAgDNC,OAhDM,gBAgDNA,OAhDM,EAiDNC,SAjDM,gBAiDNA,SAjDM,EAkDNC,aAlDM,gBAkDNA,aAlDM,EAmDNC,EAnDM,gBAmDNA,EAnDM,EAoDNC,MApDM,gBAoDNA,MApDM;AAsDHA,sBAAM,IAAI,gBAtDP,gEAsDgC,KAtDhC;AAuDU,uBAAKrB,IAAL,CAAUC,IAAV,CAAe,KAAKC,MAAL,CAAYoB,QAAZ,GAAuB,SAAvB,GAAmCd,KAAlD,EAAyD;AACzES,2BAAO,EAAPA,OADyE;AAEzEC,6BAAS,EAATA,SAFyE;AAGzEC,iCAAa,EAAbA,aAHyE;AAIzEC,sBAAE,EAAFA,EAJyE,EAAzD,CAvDV,SAuDHvC,IAvDG;;AA6DPS,uBAAO,CAACC,GAAR,CAAYV,IAAZ,EA7DO,iKArBK,E","file":"pages/my/index.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/my/index.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=4cee1ac0&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('4cee1ac0', component.options)\n    } else {\n      api.reload('4cee1ac0', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=4cee1ac0&\", function () {\n      api.rerender('4cee1ac0', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"C:/Users/Administrator/Desktop/学习/测试/pages/my/index.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=4cee1ac0&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tdevtools: '',\n\t\t}\n\t},\n\tcomputed: {\n\t\n\t},\n\tasync onLoad() {\n\t\tthis.devtools = uni.getSystemInfoSync().platform == \"devtools\";\n\t\tif (this.devtools) {\n\t\t\t// 验证小程序是否登录\n\t\t\tthis.checkLogin(res => {\n\t\t\t\tconsole.log('is_login: ', res.is_login)\n\t\t\t\tif (!res.is_login) {\n\t\t\t\t\tthis.fnLodin()\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t},\n\tmethods: {\n\t\t// 点击登录\n\t\tasync fnLodin() {\n\t\t\tvar self = this;\n\t\t\tuni.login({\n\t\t\t\tprovider: 'weixin',\n\t\t\t\tsuccess: function(loginRes) {\n\t\t\t\t\tself.ajax.post(self.apiUrl.login, {\n\t\t\t\t\t\tcode: loginRes.code\n\t\t\t\t\t}).then((res) => {\n\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\twx.setStorage({\n\t\t\t\t\t\t\tkey: 'token',\n\t\t\t\t\t\t\tdata: res.token\n\t\t\t\t\t\t})\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t//验证\n\t\tcheckLogin: function(callback) {\n\t\t\tvar token = uni.getStorageSync('token')\n\t\t\tif (!token) {\n\t\t\t\t// 从数据缓存中获取token      \n\t\t\t\tcallback({\n\t\t\t\t\tis_login: false\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.ajax.get(this.apiUrl.checklogin, {\n\t\t\t\ttoken: token\n\t\t\t}).then((res) => {\n\t\t\t\tcallback({\n\t\t\t\t\tis_login: res.is_login\n\t\t\t\t})\n\t\t\t});\n\t\t},\n\t\t//积分\n\t\tasync credit() {\n\t\t\tvar res = await this.ajax.get(this.apiUrl.credit, {\n\t\t\t\ttoken: uni.getStorageSync('token')\n\t\t\t});\n\t\t\tconsole.log(res)\n\t\t},\n\t\t//获取用户信息\n\t\tasync getUserInfo(info) {\n\t\t\tvar token = uni.getStorageSync('token');\n\t\t\tvar {\n\t\t\t\trawData,\n\t\t\t\tsignature,\n\t\t\t\tencryptedData,\n\t\t\t\tiv,\n\t\t\t\terrMsg\n\t\t\t} = info.detail\n\t\t\tif (errMsg != 'getUserInfo:ok') return false;\n\t\t\tvar data = await this.ajax.post(this.apiUrl.userinfo + '?token=' + token, {\n\t\t\t\trawData,\n\t\t\t\tsignature,\n\t\t\t\tencryptedData,\n\t\t\t\tiv\n\t\t\t})\n\t\t\tconsole.log(data)\n\t\t},\n\t}\n}\n"],"sourceRoot":""}